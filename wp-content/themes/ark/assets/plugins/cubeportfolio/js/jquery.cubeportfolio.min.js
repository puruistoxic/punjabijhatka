/*!
 * Cube Portfolio - Responsive jQuery Grid Plugin
 *
 * version: 3.6.0 (18 March, 2016)
 * require: jQuery v1.7+
 *
 * Copyright 2013-2016, Mihai Buricea (http://scriptpie.com/cubeportfolio/live-preview/)
 * Licensed under CodeCanyon License (http://codecanyon.net/licenses)
 *
 */
!function(s,e,a,r){"use strict";function l(e,t,n){var i,o=this,a="cbp";if(s.data(e,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");o.obj=e,o.$obj=s(e),s.data(o.obj,"cubeportfolio",o),o.options=s.extend({},s.fn.cubeportfolio.options,t,o.$obj.data("cbp-options")),o.isAnimating=!0,o.defaultFilter=o.options.defaultFilter,o.registeredEvents=[],o.queue=[],o.addedWrapp=!1,s.isFunction(n)&&o.registerEvent("initFinish",n,!0),i=o.$obj.children(),o.options.caption&&("expand"===o.options.caption||l.private.modernBrowser||(o.options.caption="minimal"),a+=" cbp-caption-active cbp-caption-"+o.options.caption),o.$obj.addClass(a),(0===i.length||i.first().hasClass("cbp-item"))&&(o.wrapInner(o.obj,"cbp-wrapper"),o.addedWrapp=!0),o.$ul=o.$obj.children().addClass("cbp-wrapper"),o.wrapInner(o.obj,"cbp-wrapper-outer"),o.wrapper=o.$obj.children(".cbp-wrapper-outer"),o.blocks=o.$ul.children(".cbp-item"),o.blocksOn=o.blocks,o.wrapInner(o.blocks,"cbp-item-wrapper"),o.plugins=s.map(l.plugins,function(e){return e(o)}),o.triggerEvent("afterPlugins"),o.loadImages(o.$obj,o.display)}s.extend(l.prototype,{storeData:function(e,a){var r=this;a=a||0,e.each(function(e,t){var n=s(t),i=n.width(),o=n.height();n.data("cbp",{index:a+e,wrapper:n.children(".cbp-item-wrapper"),widthInitial:i,heightInitial:o,width:i,height:o,widthAndGap:i+r.options.gapVertical,heightAndGap:o+r.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})})},wrapInner:function(e,t){var n,i,o;if(t=t||"",!(e.length&&e.length<1))for(e.length===r&&(e=[e]),i=e.length-1;0<=i;i--){for(n=e[i],(o=a.createElement("div")).setAttribute("class",t);n.childNodes.length;)o.appendChild(n.childNodes[0]);n.appendChild(o)}},removeAttrImage:function(e){e.removeAttribute("width"),e.removeAttribute("height"),e.removeAttribute("style")},loadImages:function(t,i){var o=this;requestAnimationFrame(function(){var e=t.find("img").map(function(e,t){return t.hasAttribute("width")&&t.hasAttribute("height")?(t.style.width=t.getAttribute("width")+"px",t.style.height=t.getAttribute("height")+"px",t.hasAttribute("data-cbp-src")||(null===o.checkSrc(t.src)?o.removeAttrImage(t):s("<img>").on("load.cbp error.cbp",function(){o.removeAttrImage(t)}).attr("src",t.src)),null):o.checkSrc(t.src)}),n=e.length;0!==n?s.each(e,function(e,t){s("<img>").on("load.cbp error.cbp",function(){0===--n&&i.call(o)}).attr("src",t)}):i.call(o)})},checkSrc:function(e){if(""===e)return null;var t=new Image;return t.src=e,t.complete&&t.naturalWidth!==r&&0!==t.naturalWidth?null:e},display:function(){var e=this;e.width=e.$obj.outerWidth(),e.storeData(e.blocks),e.triggerEvent("initStartRead"),e.triggerEvent("initStartWrite"),e.layoutAndAdjustment(),e.triggerEvent("initEndRead"),e.triggerEvent("initEndWrite"),e.$obj.addClass("cbp-ready"),e.runQueue("delayFrame",e.delayFrame)},delayFrame:function(){var e=this;requestAnimationFrame(function(){e.resizeEvent(),e.triggerEvent("initFinish"),e.isAnimating=!1,e.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var t;l.private.initResizeEvent({instance:this,fn:function(){var e=this;e.triggerEvent("beforeResizeGrid"),t=e.$obj.outerWidth(),e.width!==t&&("alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.width=t,e.layoutAndAdjustment(),e.triggerEvent("resizeGrid")),e.triggerEvent("resizeWindow")}})},gridAdjust:function(){var r=this;"responsive"===r.options.gridAdjustment?r.responsiveLayout():(r.blocks.removeAttr("style"),r.blocks.each(function(e,t){var n=s(t).data("cbp"),i=t.getBoundingClientRect(),o=r.columnWidthTruncate(i.right-i.left),a=Math.round(i.bottom-i.top);n.height=a,n.heightAndGap=a+r.options.gapHorizontal,n.width=o,n.widthAndGap=o+r.options.gapVertical}),r.widthAvailable=r.width+r.options.gapVertical),r.triggerEvent("gridAdjust")},layoutAndAdjustment:function(){this.gridAdjust(),this.layout()},layout:function(){var e=this;e.computeBlocks(e.filterConcat(e.defaultFilter)),"slider"===e.options.layoutMode?(e.sliderLayoutReset(),e.sliderLayout()):(e.mosaicLayoutReset(),e.mosaicLayout()),e.positionateItems(),e.resizeMainContainer()},computeFilter:function(e){var t=this;t.computeBlocks(e),t.mosaicLayoutReset(),t.mosaicLayout(),t.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=s(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){var e=this;e.blocksAreSorted&&e.sortBlocks(e.blocks,"index"),e.isAnimating=!1,e.$obj.trigger("filterComplete.cbp"),e.triggerEvent("filterFinish")},computeBlocks:function(e){var t=this;t.blocksOnInitial=t.blocksOn,t.blocksOn=t.blocks.filter(e),t.blocksOff=t.blocks.not(e),t.triggerEvent("computeBlocksFinish",e)},responsiveLayout:function(){var a=this;a.cols=a[s.isArray(a.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),a.columnWidth=a.columnWidthTruncate((a.width+a.options.gapVertical)/a.cols),a.widthAvailable=a.columnWidth*a.cols,"mosaic"===a.options.layoutMode&&a.getMosaicWidthReference(),a.blocks.each(function(e,t){var n,i=s(t).data("cbp"),o=1;"mosaic"===a.options.layoutMode&&(o=a.getColsMosaic(i.widthInitial)),n=a.columnWidth*o-a.options.gapVertical,t.style.width=n+"px",i.width=n,i.widthAndGap=n+a.options.gapVertical,t.style.height=""});var o=[];a.blocks.each(function(e,t){var n=s(t),i=n.data("cbp").width;s.each(n.find("img").filter("[width][height]"),function(e,t){var n=i/parseInt(t.getAttribute("width"),10);o.push({el:t,width:i,height:Math.floor(parseInt(t.getAttribute("height"),10)*n)})})}),s.each(o,function(e,t){t.el.width=t.width,t.el.height=t.height,t.el.style.width=t.width+"px",t.el.style.height=t.height+"px"}),a.blocks.each(function(e,t){var n=s(t).data("cbp"),i=t.getBoundingClientRect(),o=Math.round(i.bottom-i.top);n.height=o,n.heightAndGap=o+a.options.gapHorizontal})},getMosaicWidthReference:function(){var i=[];this.blocks.each(function(e,t){var n=s(t).data("cbp");i.push(n.widthInitial)}),i.sort(function(e,t){return e-t}),i[0]?this.mosaicWidthReference=i[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(e){if(e===this.width)return this.cols;var t=e/this.mosaicWidthReference;return t=.79<=t%1?Math.ceil(t):Math.floor(t),Math.min(Math.max(t,1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var e=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/e),1)},getColumnsBreakpoints:function(){var n,i=this.width;return s.each(this.options.mediaQueries,function(e,t){if(i>=t.width)return n=t.cols,!1}),n===r&&(n=this.options.mediaQueries[this.options.mediaQueries.length-1].cols),n},columnWidthTruncate:function(e){return Math.floor(e)},positionateItems:function(){var n,e=this;e.blocksOn.removeClass("cbp-item-off").each(function(e,t){(n=s(t).data("cbp")).left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),e.blocksOff.addClass("cbp-item-off"),e.blocksAreSorted&&e.sortBlocks(e.blocks,"index")},resizeMainContainer:function(){var o,e=this,t=Math.max(e.freeSpaces.slice(-1)[0].topStart-e.options.gapHorizontal,0);"alignCenter"===e.options.gridAdjustment&&(o=0,e.blocksOn.each(function(e,t){var n=s(t).data("cbp"),i=n.left+n.width;o<i&&(o=i)}),e.wrapper[0].style.maxWidth=o+"px"),t!==e.height&&(e.obj.style.height=t+"px",e.height!==r&&(l.private.modernBrowser?e.$obj.one(l.private.transitionend,function(){e.$obj.trigger("pluginResize.cbp")}):e.$obj.trigger("pluginResize.cbp")),e.height=t),e.triggerEvent("resizeMainContainer")},filterConcat:function(e){return e.replace(/\|/gi,"")},pushQueue:function(e,t){this.queue[e]=this.queue[e]||[],this.queue[e].push(t)},runQueue:function(e,t){var n=this.queue[e]||[];s.when.apply(s,n).then(s.proxy(t,this))},clearQueue:function(e){this.queue[e]=[]},registerEvent:function(e,t,n){this.registeredEvents[e]||(this.registeredEvents[e]=[]),this.registeredEvents[e].push({func:t,oneTime:n||!1})},triggerEvent:function(e,t){var n,i,o=this;if(o.registeredEvents[e])for(n=0,i=o.registeredEvents[e].length;n<i;n++)o.registeredEvents[e][n].func.call(o,t),o.registeredEvents[e][n].oneTime&&(o.registeredEvents[e].splice(n,1),n--,i--)},addItems:function(e,t,i){var o=this;o.wrapInner(e,"cbp-item-wrapper"),o.$ul[i](e.addClass("cbp-item-loading").css({top:"100%",left:0})),l.private.modernBrowser?e.last().one(l.private.animationend,function(){o.addItemsFinish(e,t)}):o.addItemsFinish(e,t),o.loadImages(e,function(){if(o.$obj.addClass("cbp-updateItems"),"append"===i)o.storeData(e,o.blocks.length),s.merge(o.blocks,e);else{o.storeData(e);var n=e.length;o.blocks.each(function(e,t){s(t).data("cbp").index=n+e}),o.blocks=s.merge(e,o.blocks)}o.triggerEvent("addItemsToDOM",e),o.layoutAndAdjustment(),o.elems&&l.public.showCounter.call(o.obj,o.elems)})},addItemsFinish:function(e,t){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),e.removeClass("cbp-item-loading"),s.isFunction(t)&&t.call(this,e)},removeItems:function(e,t){var o=this;o.$obj.addClass("cbp-updateItems"),l.private.modernBrowser?e.last().one(l.private.animationend,function(){o.removeItemsFinish(e,t)}):o.removeItemsFinish(e,t),e.each(function(e,i){o.blocks.each(function(e,t){if(i===t){var n=s(t);o.blocks.splice(e,1),l.private.modernBrowser?(n.one(l.private.animationend,function(){n.remove()}),n.addClass("cbp-removeItem")):n.remove()}})}),o.blocks.each(function(e,t){s(t).data("cbp").index=e}),o.layoutAndAdjustment(),o.elems&&l.public.showCounter.call(o.obj,o.elems)},removeItemsFinish:function(e,t){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),s.isFunction(t)&&t.call(this,e)}}),s.fn.cubeportfolio=function(e,t,n){return this.each(function(){if("object"==typeof e||!e)return l.public.init.call(this,e,t);if(l.public[e])return l.public[e].call(this,t,n);throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js")})},l.plugins={},s.fn.cubeportfolio.constructor=l}(jQuery,window,document),function(l,e,t,n){"use strict";var i=l.fn.cubeportfolio.constructor;l.extend(i.prototype,{mosaicLayoutReset:function(){this.blocksAreSorted=!1,this.blocksOn.each(function(e,t){l(t).data("cbp").pack=!1})},mosaicLayout:function(){var e,t=this,n=t.blocksOn.length,i={};for(t.freeSpaces=[{leftStart:0,leftEnd:t.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}],e=0;e<n;e++){if(null===(i=t.getSpaceIndexAndBlock()))return t.sortBlocksToPreventGaps(),void t.mosaicLayout();t.generateF1F2(i.spaceIndex,i.dataBlock),t.generateG1G2G3G4(i.dataBlock),t.cleanFreeSpaces(),t.addHeightToBlocks()}t.blocksAreSorted&&t.sortBlocks(t.blocksOn,"topNew")},getSpaceIndexAndBlock:function(){var e=this,s=null;return l.each(e.freeSpaces,function(i,o){var a=o.leftEnd-o.leftStart,r=o.topEnd-o.topStart;return e.blocksOn.each(function(e,t){var n=l(t).data("cbp");if(!0!==n.pack)return n.widthAndGap<=a&&n.heightAndGap<=r?(n.pack=!0,s={spaceIndex:i,dataBlock:n},n.leftNew=o.leftStart,n.topNew=o.topStart,!1):void 0}),!e.blocksAreSorted&&e.options.sortToPreventGaps&&0<i?(s=null,!1):null===s&&void 0}),s},generateF1F2:function(e,t){var n=this.freeSpaces[e],i={leftStart:n.leftStart+t.widthAndGap,leftEnd:n.leftEnd,topStart:n.topStart,topEnd:n.topEnd},o={leftStart:n.leftStart,leftEnd:n.leftEnd,topStart:n.topStart+t.heightAndGap,topEnd:n.topEnd};this.freeSpaces.splice(e,1),i.leftStart<i.leftEnd&&i.topStart<i.topEnd&&(this.freeSpaces.splice(e,0,i),e++),o.leftStart<o.leftEnd&&o.topStart<o.topEnd&&this.freeSpaces.splice(e,0,o)},generateG1G2G3G4:function(i){var o=this,a=[];l.each(o.freeSpaces,function(e,t){var n=o.intersectSpaces(t,i);null!==n?(o.generateG1(t,n,a),o.generateG2(t,n,a),o.generateG3(t,n,a),o.generateG4(t,n,a)):a.push(t)}),o.freeSpaces=a},intersectSpaces:function(e,t){var n={leftStart:t.leftNew,leftEnd:t.leftNew+t.widthAndGap,topStart:t.topNew,topEnd:t.topNew+t.heightAndGap};if(e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd)return null;var i=Math.max(e.leftStart,n.leftStart),o=Math.min(e.leftEnd,n.leftEnd),a=Math.max(e.topStart,n.topStart),r=Math.min(e.topEnd,n.topEnd);return o<=i||r<=a?null:{leftStart:i,leftEnd:o,topStart:a,topEnd:r}},generateG1:function(e,t,n){e.topStart!==t.topStart&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:t.topStart})},generateG2:function(e,t,n){e.leftEnd!==t.leftEnd&&n.push({leftStart:t.leftEnd,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:e.topEnd})},generateG3:function(e,t,n){e.topEnd!==t.topEnd&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:t.topEnd,topEnd:e.topEnd})},generateG4:function(e,t,n){e.leftStart!==t.leftStart&&n.push({leftStart:e.leftStart,leftEnd:t.leftStart,topStart:e.topStart,topEnd:e.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort(function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:e.leftStart>t.leftStart?1:e.leftStart<t.leftStart?-1:0}),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var e,t,n,i;for(e=0,t=this.freeSpaces.length-1;e<t;e++)n=this.freeSpaces[e],(i=this.freeSpaces[e+1]).topStart-n.topStart<=1&&(i.topStart=n.topStart)},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=l.map(e.freeSpaces,function(n,i){return l.each(e.freeSpaces,function(e,t){if(i!==e)return t.leftStart<=n.leftStart&&t.leftEnd>=n.leftEnd&&t.topStart<=n.topStart&&t.topEnd>=n.topEnd?(n=null,!1):void 0}),n})},uniqueFreeSpaces:function(){var t=[];l.each(this.freeSpaces,function(e,n){l.each(t,function(e,t){if(t.leftStart===n.leftStart&&t.leftEnd===n.leftEnd&&t.topStart===n.topStart&&t.topEnd===n.topEnd)return n=null,!1}),null!==n&&t.push(n)}),this.freeSpaces=t},addHeightToBlocks:function(){if(!(1<this.freeSpaces.length)){var o=this.freeSpaces[0].topStart;this.blocksOn.each(function(e,t){var n=l(t).data("cbp");if(!0===n.pack){var i=o-n.topNew-n.heightAndGap;i<0&&(t.style.height=n.height+i+"px")}})}},sortBlocksToPreventGaps:function(){this.blocksAreSorted=!0,this.blocksOn.sort(function(e,t){var n=l(e).data("cbp"),i=l(t).data("cbp");return n.widthAndGap<i.widthAndGap?1:n.widthAndGap>i.widthAndGap?-1:n.heightAndGap<i.heightAndGap?1:n.heightAndGap>i.heightAndGap?-1:n.index>i.index?1:n.index<i.index?-1:void 0}),this.blocksOn.each(function(e,t){l(t).data("cbp").pack=!1,t.style.height=""})},sortBlocks:function(e,o){e.sort(function(e,t){var n=l(e).data("cbp"),i=l(t).data("cbp");return n[o]>i[o]?1:n[o]<i[o]?-1:n.leftNew>i.leftNew?1:n.leftNew<i.leftNew?-1:0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",loadMore:"",loadMoreAction:"click",search:"",layoutMode:"grid",sortToPreventGaps:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!0,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(i,o,a,e){"use strict";var r=i.fn.cubeportfolio.constructor;r.private={resizeEventArray:[],initResizeEvent:function(e){var t=r.private;0===t.resizeEventArray.length&&t.resizeEvent(),t.resizeEventArray.push(e)},destroyResizeEvent:function(n){var e=r.private,t=i.map(e.resizeEventArray,function(e,t){if(e.instance!==n)return e});e.resizeEventArray=t,0===e.resizeEventArray.length&&i(o).off("resize.cbp")},resizeEvent:function(){var e,t=r.private;i(o).on("resize.cbp",function(){clearTimeout(e),e=setTimeout(function(){o.innerHeight!=screen.height&&i.each(t.resizeEventArray,function(e,t){t.fn.call(t.instance)})},50)})},checkInstance:function(e){var t=i.data(this,"cubeportfolio");if(!t)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!");return t.triggerEvent("publicMethod"),t},browserInfo:function(){var e,t,n=r.private,i=navigator.appVersion;-1!==i.indexOf("MSIE 8.")?n.browser="ie8":-1!==i.indexOf("MSIE 9.")?n.browser="ie9":-1!==i.indexOf("MSIE 10.")?n.browser="ie10":o.ActiveXObject||"ActiveXObject"in o?n.browser="ie11":/android/gi.test(i)?n.browser="android":/iphone|ipad|ipod/gi.test(i)?n.browser="ios":/chrome/gi.test(i)?n.browser="chrome":n.browser="",void 0!==typeof n.styleSupport("perspective")&&(e=n.styleSupport("transition"),n.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],t=n.styleSupport("animation"),n.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[t],n.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[t],n.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[t],n.transform=n.styleSupport("transform"),e&&t&&n.transform&&(n.modernBrowser=!0))},styleSupport:function(e){var t,n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1),i=a.createElement("div");return e in i.style?t=e:n in i.style&&(t=n),i=null,t}},r.private.browserInfo()}(jQuery,window,document),function(a,e,t,n){"use strict";var r=a.fn.cubeportfolio.constructor;r.public={init:function(e,t){new r(this,e,t)},destroy:function(e){var t=r.private.checkInstance.call(this,"destroy");t.triggerEvent("beforeDestroy"),a.removeData(this,"cubeportfolio"),t.blocks.removeData("cbp"),t.$obj.removeClass("cbp-ready").removeAttr("style"),t.$ul.removeClass("cbp-wrapper"),r.private.destroyResizeEvent(t),t.$obj.off(".cbp"),t.blocks.removeClass("cbp-item-off").removeAttr("style"),t.blocks.find(".cbp-item-wrapper").children().unwrap(),t.options.caption&&t.$obj.removeClass("cbp-caption-active cbp-caption-"+t.options.caption),t.destroySlider(),t.$ul.unwrap(),t.addedWrapp&&t.blocks.unwrap(),a.each(t.plugins,function(e,t){"function"==typeof t.destroy&&t.destroy()}),a.isFunction(e)&&e.call(t),t.triggerEvent("afterDestroy")},filter:function(e,t){var n,i=r.private.checkInstance.call(this,"filter");if(!i.isAnimating){if(i.isAnimating=!0,a.isFunction(t)&&i.registerEvent("filterFinish",t,!0),a.isFunction(e)){if(void 0===(n=e.call(i,i.blocks)))throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(i.options.filterDeeplinking){var o=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=o+"#cbpf="+encodeURIComponent(e),i.singlePage&&i.singlePage.url&&(i.singlePage.url=location.href)}i.defaultFilter=e,n=i.filterConcat(i.defaultFilter)}i.singlePageInline&&i.singlePageInline.isOpen?i.singlePageInline.close("promise",{callback:function(){i.computeFilter(n)}}):i.computeFilter(n)}},showCounter:function(e,t){var n=r.private.checkInstance.call(this,"showCounter");a.isFunction(t)&&n.registerEvent("showCounterFinish",t,!0),(n.elems=e).each(function(){var e=a(this),t=n.blocks.filter(e.data("filter")).length;e.find(".cbp-filter-counter").text(t)}),n.triggerEvent("showCounterFinish",e)},appendItems:function(e,t){r.public.append.call(this,e,t)},append:function(e,t){var n=r.private.checkInstance.call(this,"append"),i=a(e).filter(".cbp-item");n.isAnimating||i.length<1?a.isFunction(t)&&t.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,t,"append")}}):n.addItems(i,t,"append"))},prepend:function(e,t){var n=r.private.checkInstance.call(this,"prepend"),i=a(e).filter(".cbp-item");n.isAnimating||i.length<1?a.isFunction(t)&&t.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,t,"prepend")}}):n.addItems(i,t,"prepend"))},remove:function(e,t){var n=r.private.checkInstance.call(this,"remove"),i=a(e).filter(".cbp-item");n.isAnimating||i.length<1?a.isFunction(t)&&t.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.removeItems(i,t)}}):n.removeItems(i,t))}}}(jQuery,window,document),function(h,e,b,t){"use strict";var v=h.fn.cubeportfolio.constructor;h.extend(v.prototype,{updateSliderPagination:function(){var e,t,n=this;if(n.options.showPagination){for(e=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),t=e-1;0<=t;t--)h("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n.enableDisableNavSlider()},destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.removeClass("cbp-mode-slider"),e.$ul.removeAttr("style"),e.$ul.off(".cbp"),h(b).off(".cbp"),e.options.auto&&e.stopSliderAuto())},nextSlider:function(e){var t=this;if(t.isEndSlider()){if(!t.isRewindNav())return;t.sliderActive=0}else t.options.scrollByPage?t.sliderActive=Math.min(t.sliderActive+t.cols,t.blocksOn.length-t.cols):t.sliderActive+=1;t.goToSlider()},prevSlider:function(e){var t=this;if(t.isStartSlider()){if(!t.isRewindNav())return;t.sliderActive=t.blocksOn.length-t.cols}else t.options.scrollByPage?t.sliderActive=Math.max(0,t.sliderActive-t.cols):t.sliderActive-=1;t.goToSlider()},jumpToSlider:function(e){var t=this,n=Math.min(e.index()*t.cols,t.blocksOn.length-t.cols);n!==t.sliderActive&&(t.sliderActive=n,t.goToSlider())},jumpDragToSlider:function(e){var t,n,i,o=this,a=0<e;o.options.scrollByPage?(t=o.cols*o.columnWidth,n=o.cols):(t=o.columnWidth,n=1),e=Math.abs(e),i=Math.floor(e/t)*n,20<e%t&&(i+=n),o.sliderActive=a?Math.min(o.sliderActive+i,o.blocksOn.length-o.cols):Math.max(0,o.sliderActive-i),o.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var e=this;e.isDrag?e.stopSliderAuto():e.timeout=setTimeout(function(){e.nextSlider(),e.startSliderAuto()},e.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var e,t,n=this;n.isRewindNav()||(t=n.isStartSlider()?"addClass":"removeClass",n.navPrev[t]("cbp-nav-stop"),t=n.isEndSlider()?"addClass":"removeClass",n.navNext[t]("cbp-nav-stop")),n.options.showPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.navPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active")),n.customPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.customPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.customPaginationItems.removeClass(n.customPaginationClass).eq(e).addClass(n.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation||!(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var i=this;i.blocksOn.each(function(e,t){var n=h(t).data("cbp");n.leftNew=i.columnWidth*e,n.topNew=0,i.sliderFreeSpaces.push({topStart:n.heightAndGap})}),i.getFreeSpacesForSlider(),i.$ul.width(i.columnWidth*i.blocksOn.length-i.options.gapVertical)},getFreeSpacesForSlider:function(){var e=this;e.freeSpaces=e.sliderFreeSpaces.slice(e.sliderActive,e.sliderActive+e.cols),e.freeSpaces.sort(function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:void 0})},updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.columnWidth;v.private.modernBrowser?e.$ul[0].style[v.private.transform]="translate3d("+t+"px, 0px, 0)":e.$ul[0].style.left=t+"px",e.getFreeSpacesForSlider(),e.resizeMainContainer()},dragSlider:function(){var n,i,t,o,a,r=this,s=h(b),l=!1,p={},c=!1;function u(e){r.$obj.removeClass("cbp-mode-slider-dragStart"),l=!0,0!==i?(t.one("click.cbp",function(e){return!1}),requestAnimationFrame(function(){r.jumpDragToSlider(i),r.$ul.one(v.private.transitionend,f)})):f.call(r),s.off(p.move),s.off(p.end)}function d(e){(8<(i=n-g(e).x)||i<-8)&&e.preventDefault(),r.isDrag=!0;var t=o-i;i<0&&i<o?t=(o-i)/5:0<i&&o-i<-a&&(t=(a+o-i)/5-a),v.private.modernBrowser?r.$ul[0].style[v.private.transform]="translate3d("+t+"px, 0px, 0)":r.$ul[0].style.left=t+"px"}function f(){if(l=!1,r.isDrag=!1,r.options.auto){if(r.mouseIsEntered)return;r.startSliderAuto()}}function g(e){return void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(e=e.originalEvent.touches[0]),{x:e.pageX,y:e.pageY}}r.isDrag=!1,"ontouchstart"in e||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(p={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},c=!0):p={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},r.$ul.on(p.start,function(e){r.sliderItemsLength()||(c?e:e.preventDefault(),r.options.auto&&r.stopSliderAuto(),l?h(t).one("click.cbp",function(){return!1}):(t=h(e.target),n=g(e).x,i=0,o=-r.sliderActive*r.columnWidth,a=r.columnWidth*(r.blocksOn.length-r.cols),s.on(p.move,d),s.on(p.end,u),r.$obj.addClass("cbp-mode-slider-dragStart")))})},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(){for(var a=0,e=["moz","webkit"],t=0;t<e.length&&!window.requestAnimationFrame;t++)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-a)),o=window.setTimeout(function(){e(n+i)},i);return a=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(i,e,t,n){"use strict";var o=i.fn.cubeportfolio.constructor;function a(t){(this.parent=t).filterLayout=this.filterLayout,t.registerEvent("computeBlocksFinish",function(e){t.blocksOn2On=t.blocksOnInitial.filter(e),t.blocksOn2Off=t.blocksOnInitial.not(e)})}a.prototype.filterLayout=function(){var e=this;function t(){e.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,t){var n=i(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px",t.style[o.private.transform]=""}),e.blocksOff.addClass("cbp-item-off"),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOn2On.addClass("cbp-item-on2on").each(function(e,t){var n=i(t).data("cbp");t.style[o.private.transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)"}),e.blocksOn2Off.addClass("cbp-item-on2off"),e.blocksOff2On=e.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(e,t){var n=i(t).data("cbp");t.style.left=n.leftNew+"px",t.style.top=n.topNew+"px"}),e.blocksOn2Off.length?e.blocksOn2Off.last().data("cbp").wrapper.one(o.private.animationend,t):e.blocksOff2On.length?e.blocksOff2On.last().data("cbp").wrapper.one(o.private.animationend,t):t(),e.resizeMainContainer()},a.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},o.plugins.animationClassic=function(e){return!o.private.modernBrowser||i.inArray(e.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new a(e)}}(jQuery,window,document),function(i,e,t,n){"use strict";var o=i.fn.cubeportfolio.constructor;function a(e){(this.parent=e).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var e=this,t=e.$ul[0].cloneNode(!0);function n(){e.wrapper[0].removeChild(t),e.options.animationType,e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}t.setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(t,e.$ul[0]),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=i(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),e.blocksOn.length?e.blocksOn.last().data("cbp").wrapper.one(o.private.animationend,n):e.blocksOnInitial.length?e.blocksOnInitial.last().data("cbp").wrapper.one(o.private.animationend,n):n(),e.resizeMainContainer()})},a.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},o.plugins.animationClone=function(e){return!o.private.modernBrowser||i.inArray(e.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new a(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";var r=a.fn.cubeportfolio.constructor;function i(e){(this.parent=e).filterLayout=this.filterLayout}i.prototype.filterLayout=function(){var n=this,e=n.$ul.clone(!0,!0);e[0].setAttribute("class","cbp-wrapper-helper"),n.wrapper[0].insertBefore(e[0],n.$ul[0]);var i=e.find(".cbp-item").not(".cbp-item-off");function o(){n.wrapper[0].removeChild(e[0]),n.$obj.removeClass("cbp-animation-"+n.options.animationType),n.filterFinish()}n.sortBlocks(i,"top"),requestAnimationFrame(function(){n.$obj.addClass("cbp-animation-"+n.options.animationType),n.blocksOff.addClass("cbp-item-off"),n.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=a(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"});var e=n.blocksOn.length,t=i.length;0===e&&0===t?o():e<t?i.last().children(".cbp-item-wrapper").one(r.private.animationend,o):n.blocksOn.last().data("cbp").wrapper.one(r.private.animationend,o),n.resizeMainContainer()})},i.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},r.plugins.animationCloneDelay=function(e){return!r.private.modernBrowser||a.inArray(e.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new i(e)}}(jQuery,window,document),function(i,e,t,n){"use strict";var o=i.fn.cubeportfolio.constructor;function a(e){(this.parent=e).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var e=this,t=e.$ul[0].cloneNode(!0);function n(){e.wrapper[0].removeChild(t),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}t.setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(t,e.$ul[0]),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=i(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),e.blocksOn.length?e.$ul.one(o.private.animationend,n):e.blocksOnInitial.length?i(t).one(o.private.animationend,n):n(),e.resizeMainContainer()})},a.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},o.plugins.animationWrapper=function(e){return!o.private.modernBrowser||i.inArray(e.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new a(e)}}(jQuery,window,document),function(l,e,t,n){"use strict";var i=l.fn.cubeportfolio.constructor;function o(s){(this.parent=s).registerEvent("initFinish",function(){s.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(e){if(e.preventDefault(),!s.isAnimating){s.isAnimating=!0;var t=l(this),n=t.next(),i=t.parent(),o={position:"relative",height:n.outerHeight(!0)},a={position:"relative",height:0};if(s.$obj.addClass("cbp-caption-expand-active"),i.hasClass("cbp-caption-expand-open")){var r=a;a=o,o=r,i.removeClass("cbp-caption-expand-open")}n.css(o),s.$obj.one("pluginResize.cbp",function(){s.isAnimating=!1,s.$obj.removeClass("cbp-caption-expand-active"),0===o.height&&(i.removeClass("cbp-caption-expand-open"),n.attr("style",""))}),s.layoutAndAdjustment(),n.css(a),requestAnimationFrame(function(){i.addClass("cbp-caption-expand-open"),n.css(o),s.triggerEvent("gridAdjust"),s.triggerEvent("resizeGrid")})}})},!0)}o.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},i.plugins.captionExpand=function(e){return"expand"!==e.options.caption?null:new o(e)}}(jQuery,window,document),function(n,e,t,i){"use strict";var o=n.fn.cubeportfolio.constructor;function a(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.$obj.addClass("cbp-displayType-bottomToTop"),e.blocksOn.last().one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-bottomToTop"),t.resolve()})},!0)}o.plugins.displayBottomToTop=function(e){return o.private.modernBrowser&&"bottomToTop"===e.options.displayType&&0!==e.blocksOn.length?new a(e):null}}(jQuery,window,document),function(n,e,t,i){"use strict";var o=n.fn.cubeportfolio.constructor;function a(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.obj.style[o.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeIn"),e.$obj.one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeIn"),e.obj.style[o.private.animationDuration]="",t.resolve()})},!0)}o.plugins.displayFadeIn=function(e){return!o.private.modernBrowser||"lazyLoading"!==e.options.displayType&&"fadeIn"!==e.options.displayType||0===e.blocksOn.length?null:new a(e)}}(jQuery,window,document),function(n,e,t,i){"use strict";var o=n.fn.cubeportfolio.constructor;function a(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.obj.style[o.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[o.private.animationDuration]="",t.resolve()})},!0)}o.plugins.displayFadeInToTop=function(e){return o.private.modernBrowser&&"fadeInToTop"===e.options.displayType&&0!==e.blocksOn.length?new a(e):null}}(jQuery,window,document),function(n,e,t,i){"use strict";var o=n.fn.cubeportfolio.constructor;function a(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.$obj.addClass("cbp-displayType-sequentially"),e.blocksOn.last().one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-sequentially"),t.resolve()})},!0)}o.plugins.displaySequentially=function(e){return o.private.modernBrowser&&"sequentially"===e.options.displayType&&0!==e.blocksOn.length?new a(e):null}}(jQuery,window,document),function(p,e,t,n){"use strict";var i=p.fn.cubeportfolio.constructor;function o(e){var t=this;t.parent=e,t.filters=p(e.options.filters),t.filterData=[],e.registerEvent("afterPlugins",function(e){t.filterFromUrl(),t.registerFilter()}),e.registerEvent("resetFiltersVisual",function(){var o=e.options.defaultFilter.split("|");t.filters.each(function(e,t){var i=p(t).find(".cbp-filter-item");p.each(o,function(e,t){var n=i.filter('[data-filter="'+t+'"]');if(n.length)return n.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active"),o.splice(e,1),!1})}),e.defaultFilter=e.options.defaultFilter})}o.prototype.registerFilter=function(){var r=this,s=r.parent,l=s.defaultFilter.split("|");r.wrap=r.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){p(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){p(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),r.filters.each(function(e,i){var t=p(i),n="*",o=t.find(".cbp-filter-item"),a={};t.hasClass("cbp-l-filters-dropdown")&&(a.wrap=t.find(".cbp-l-filters-dropdownWrap"),a.header=t.find(".cbp-l-filters-dropdownHeader"),a.headerText=a.header.text()),s.$obj.cubeportfolio("showCounter",o),p.each(l,function(e,t){if(o.filter('[data-filter="'+t+'"]').length)return n=t,l.splice(e,1),!1}),p.data(i,"filterName",n),r.filterData.push(i),r.filtersCallback(a,o.filter('[data-filter="'+n+'"]')),o.on("click.cbp",function(){var e=p(this);if(!e.hasClass("cbp-filter-item-active")&&!s.isAnimating){r.filtersCallback(a,e),p.data(i,"filterName",e.data("filter"));var t=p.map(r.filterData,function(e,t){var n=p.data(e,"filterName");return""!==n&&"*"!==n?n:null});t.length<1&&(t=["*"]);var n=t.join("|");s.defaultFilter!==n&&s.$obj.cubeportfolio("filter",n)}})})},o.prototype.filtersCallback=function(e,t){p.isEmptyObject(e)||(e.wrap.trigger("mouseleave.cbp"),e.headerText?e.headerText="":e.header.html(t.html())),t.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},o.prototype.filterFromUrl=function(){var e=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==e&&(this.parent.defaultFilter=decodeURIComponent(e[1]))},o.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},i.plugins.filters=function(e){return""===e.options.filters?null:new o(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";var i={},o=a.fn.cubeportfolio.constructor;function r(e){var t=this;t.parent=e,t.options=a.extend({},i,t.parent.options.plugins.inlineSlider),t.runInit(),e.registerEvent("addItemsToDOM",function(){t.runInit()})}function s(e){var t=this;e.hasClass("cbp-slider-inline-ready")||(e.addClass("cbp-slider-inline-ready"),t.items=e.find(".cbp-slider-wrapper").children(".cbp-slider-item"),t.active=t.items.filter(".cbp-slider-item--active").index(),t.total=t.items.length-1,t.updateLeft(),e.find(".cbp-slider-next").on("click.cbp",function(e){e.preventDefault(),t.active<t.total?(t.active++,t.updateLeft()):t.active===t.total&&(t.active=0,t.updateLeft())}),e.find(".cbp-slider-prev").on("click.cbp",function(e){e.preventDefault(),0<t.active?(t.active--,t.updateLeft()):0===t.active&&(t.active=t.total,t.updateLeft())}))}s.prototype.updateLeft=function(){var n=this;n.items.removeClass("cbp-slider-item--active"),n.items.eq(n.active).addClass("cbp-slider-item--active"),n.items.each(function(e,t){t.style.left=e-n.active+"00%"})},r.prototype.runInit=function(){var o=this;o.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(e,t){var n=a(t),i=n.find(".cbp-slider-item--active").find("img")[0];i.hasAttribute("data-cbp-src")?o.parent.$obj.on("lazyLoad.cbp",function(e,t){t.src===i.src&&new s(n)}):new s(n)})},r.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each(function(e,t){var n=a(t);n.removeClass("cbp-slider-inline-ready");var i=n.find(".cbp-slider-item");i.removeClass("cbp-slider-item--active"),i.removeAttr("style"),i.eq(0).addClass("cbp-slider-item--active")})},o.plugins.inlineSlider=function(e){return new r(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";var i={loadingClass:"cbp-lazyload",threshold:0},o=a.fn.cubeportfolio.constructor;function r(t){var n=this;n.window=a(e),n.parent=t,n.options=a.extend({},i,n.parent.options.plugins.lazyLoad),t.registerEvent("initEndWrite",function(){var e;n.triggerImg(),t.registerEvent("resizeMainContainer",function(){n.triggerImg()}),n.window.on("scroll.cbp",function(){clearTimeout(e),e=setTimeout(function(){n.triggerImg()},300)})},!0)}r.prototype.triggerImg=function(){var o=this,e=o.parent.$obj.find("img").filter("[data-cbp-src]");0!==e.length&&(o.screenHeight=o.window.height(),e.each(function(e,t){var n=a(t.parentNode);if(o.isElementInScreen(t)){var i=t.getAttribute("data-cbp-src");null===o.parent.checkSrc(i)?(o.removeLazy(t,i),n.removeClass(o.options.loadingClass)):(n.addClass(o.options.loadingClass),a("<img>").on("load.cbp error.cbp",function(){o.removeLazy(t,i,n)}).attr("src",i))}else n.addClass(o.options.loadingClass)}))},r.prototype.removeLazy=function(e,t,n){var i=this;e.src=t,e.removeAttribute("data-cbp-src"),i.parent.removeAttrImage(e),i.parent.$obj.trigger("lazyLoad.cbp",e),n&&(o.private.modernBrowser?a(e).one(o.private.transitionend,function(){n.removeClass(i.options.loadingClass)}):n.removeClass(i.options.loadingClass))},r.prototype.isElementInScreen=function(e){var t=e.getBoundingClientRect(),n=t.bottom+this.options.threshold,i=this.screenHeight+n-(t.top-this.options.threshold);return 0<=n&&n<=i},r.prototype.destroy=function(){this.window.off("scroll.cbp")},o.plugins.lazyLoad=function(e){return new r(e)}}(jQuery,window,document),function(t,n,e,i){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){this.parent=e,this.loadMore=t(e.options.loadMore).find(".cbp-l-loadMore-link"),this.loadMore.length&&this[e.options.loadMoreAction]()}a.prototype.click=function(){var s=this,l=0;s.loadMore.on("click.cbp",function(e){var r=t(this);e.preventDefault(),s.parent.isAnimating||r.hasClass("cbp-l-loadMore-stop")||(r.addClass("cbp-l-loadMore-loading"),l++,t.ajax({url:s.loadMore.attr("href")+"?block="+l,type:"GET",dataType:"HTML"}).done(function(e){var t=e.replace(/(\r\n|\n|\r)/gm,""),n=t.indexOf("cbp-loadMore-block"+l);if(-1!==n){var i,o=t.indexOf(">",n)+1,a=t.indexOf("cbp-loadMore-block"+(l+1));i=-1===a?t.lastIndexOf("</"):t.lastIndexOf("</",a),s.parent.$obj.cubeportfolio("append",t.substring(o,i),function(){r.removeClass("cbp-l-loadMore-loading"),-1===a&&r.addClass("cbp-l-loadMore-stop")})}else r.addClass("cbp-l-loadMore-stop")}).fail(function(){}))})},a.prototype.auto=function(){var s=this;s.parent.$obj.on("initComplete.cbp",function(){Object.create({init:function(){var e=this;e.isActive=!1,e.numberOfClicks=0,s.loadMore.addClass("cbp-l-loadMore-loading"),e.window=t(n),e.addEvents(),e.getNewItems()},addEvents:function(){var e,t=this;s.loadMore.on("click.cbp",function(e){e.preventDefault()}),t.window.on("scroll.loadMoreObject",function(){clearTimeout(e),e=setTimeout(function(){s.parent.isAnimating||t.getNewItems()},80)}),s.parent.$obj.on("filterComplete.cbp",function(){t.getNewItems()})},getNewItems:function(){var e,r=this;r.isActive||s.loadMore.hasClass("cbp-l-loadMore-stop")||(e=s.loadMore.offset().top-200,r.window.scrollTop()+r.window.height()<e||(r.isActive=!0,r.numberOfClicks++,t.ajax({url:s.loadMore.attr("href")+"?block="+r.numberOfClicks,type:"GET",dataType:"HTML",cache:!0}).done(function(e){var t=e.replace(/(\r\n|\n|\r)/gm,""),n=t.indexOf("cbp-loadMore-block"+r.numberOfClicks);if(-1!==n){var i,o=t.indexOf(">",n)+1,a=t.indexOf("cbp-loadMore-block"+(r.numberOfClicks+1));i=-1===a?t.lastIndexOf("</"):t.lastIndexOf("</",a),s.parent.$obj.cubeportfolio("append",t.substring(o,i),function(){-1===a?(s.loadMore.addClass("cbp-l-loadMore-stop"),r.window.off("scroll.loadMoreObject"),s.parent.$obj.off("filterComplete.cbp")):(r.isActive=!1,r.window.trigger("scroll.loadMoreObject"))})}else s.loadMore.addClass("cbp-l-loadMore-stop")}).fail(function(){r.isActive=!1})))}}).init()})},a.prototype.destroy=function(){this.loadMore.off(".cbp"),t(n).off("scroll.loadMoreObject")},o.plugins.loadMore=function(e){return""===e.options.loadMore?null:new a(e)}}(jQuery,window,document),function(c,u,d,e){"use strict";var s=c.fn.cubeportfolio.constructor,t={init:function(e,t){var o,a=this;if(a.cubeportfolio=e,a.type=t,a.isOpen=!1,a.options=a.cubeportfolio.options,"lightbox"===t&&a.cubeportfolio.registerEvent("resizeWindow",function(){a.resizeImage()}),"singlePageInline"!==t){if(a.createMarkup(),"singlePage"===t&&(a.cubeportfolio.registerEvent("resizeWindow",function(){if(a.options.singlePageStickyNavigation){var e=a.wrap[0].clientWidth;0<e&&(a.navigationWrap.width(e),a.navigation.width(e))}}),a.options.singlePageDeeplinking)){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));p=(l=a.url.split("#cbp=")).shift();if(c.each(l,function(e,i){if(a.cubeportfolio.blocksOn.each(function(e,t){var n=c(t).find(a.options.singlePageDelegate+'[href="'+i+'"]');if(n.length)return o=n,!1}),o)return!1}),o){a.url=p;var n=o,i=n.attr("data-cbp-singlePage"),r=[];i?r=n.closest(c(".cbp-item")).find('[data-cbp-singlePage="'+i+'"]'):a.cubeportfolio.blocksOn.each(function(e,t){var n=c(t);n.not(".cbp-item-off")&&n.find(a.options.singlePageDelegate).each(function(e,t){c(t).attr("data-cbp-singlePage")||r.push(t)})}),a.openSinglePage(r,o[0])}else if(l.length){var s=d.createElement("a");s.setAttribute("href",l[0]),a.openSinglePage([s],s)}}}else if(a.height=0,a.createMarkupSinglePageInline(),a.cubeportfolio.registerEvent("resizeGrid",function(){a.isOpen&&a.close()}),a.options.singlePageInlineDeeplinking){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var l,p=(l=a.url.split("#cbpi=")).shift();c.each(l,function(e,i){if(a.cubeportfolio.blocksOn.each(function(e,t){var n=c(t).find(a.options.singlePageInlineDelegate+'[href="'+i+'"]');if(n.length)return o=n,!1}),o)return!1}),o&&a.cubeportfolio.registerEvent("initFinish",function(){a.openSinglePageInline(a.cubeportfolio.blocksOn,o[0])},!0)}},createMarkup:function(){var o=this,e="";"singlePage"===o.type&&"left"!==o.options.singlePageAnimation&&(e=" cbp-popup-singlePage-"+o.options.singlePageAnimation),o.wrap=c("<div/>",{class:"cbp-popup-wrap cbp-popup-"+o.type+e,"data-action":"lightbox"===o.type?"close":""}).on("click.cbp",function(e){if(!o.stopEvents){var t=c(e.target).attr("data-action");o[t]&&(o[t](),e.preventDefault())}}),o.content=c("<div/>",{class:"cbp-popup-content"}).appendTo(o.wrap),c("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(o.wrap),"ie8"===s.private.browser&&(o.bg=c("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===o.type?"close":""}).appendTo(o.wrap)),o.navigationWrap=c("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(o.wrap),o.navigation=c("<div/>",{class:"cbp-popup-navigation"}).appendTo(o.navigationWrap),o.closeButton=c("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(o.navigation),o.nextButton=c("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(o.navigation),o.prevButton=c("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(o.navigation),"singlePage"===o.type&&(o.options.singlePageCounter&&(o.counter=c(o.options.singlePageCounter).appendTo(o.navigation),o.counter.text("")),o.content.on("click.cbp",o.options.singlePageDelegate,function(e){e.preventDefault();var t,n=o.dataArray.length,i=this.getAttribute("href");for(t=0;t<n&&o.dataArray[t].url!==i;t++);o.singlePageJumpTo(t-o.current)}),o.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(e){e.stopImmediatePropagation()})),c(d).on("keydown.cbp",function(e){o.isOpen&&(o.stopEvents||(37===e.keyCode?o.prev():39===e.keyCode?o.next():27===e.keyCode&&o.close()))})},createMarkupSinglePageInline:function(){var n=this;n.wrap=c("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(e){if(!n.stopEvents){var t=c(e.target).attr("data-action");t&&n[t]&&(n[t](),e.preventDefault())}}),n.content=c("<div/>",{class:"cbp-popup-content"}).appendTo(n.wrap),n.navigation=c("<div/>",{class:"cbp-popup-navigation"}).appendTo(n.wrap),n.closeButton=c("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(n.navigation)},destroy:function(){var e=this,t=c("body");c(d).off("keydown.cbp"),t.off("click.cbp",e.options.lightboxDelegate),t.off("click.cbp",e.options.singlePageDelegate),e.content.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageInlineDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.lightboxDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),e.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),e.wrap.remove()},openLightbox:function(e,t){var r,n,s=this,l=0,p=[];if(!s.isOpen){if(s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(r=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");c.each(e,function(e,t){var n,i=t.getAttribute("href"),o=i,a="isImage";if(-1===c.inArray(i,p)){if(r===i)s.current=l;else if(!s.options.lightboxGallery)return;/youtube/i.test(i)?(n=i.substring(i.lastIndexOf("v=")+2),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//www.youtube.com/embed/"+(n=n.replace(/\?|&/,"?")),a="isYoutube"):/vimeo\.com/i.test(i)?(n=i.substring(i.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//player.vimeo.com/video/"+(n=n.replace(/\?|&/,"?")),a="isVimeo"):/www\.ted\.com/i.test(i)?(o="http://embed.ted.com/talks/"+i.substring(i.lastIndexOf("/")+1)+".html",a="isTed"):/soundcloud\.com/i.test(i)?(o=i,a="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(i)?(o=-1!==i.indexOf("|")?i.split("|"):i.split("%7C"),a="isSelfHostedVideo"):/\.mp3$/i.test(i)&&(o=i,a="isSelfHostedAudio"),s.dataArray.push({src:o,title:t.getAttribute(s.options.lightboxTitleSrc),type:a}),l++}p.push(i)}),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide(),s.dataActionImg=""):(s.nextButton.show(),s.prevButton.show(),s.dataActionImg='data-action="next"'),s.wrap.appendTo(d.body),s.scrollTop=c(u).scrollTop(),s.originalStyle=c("html").attr("style"),c("html").css({overflow:"hidden",marginRight:u.innerWidth-c(d).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.wrap.show(),n=s.dataArray[s.current],s[n.type](n)}},openSinglePage:function(e,t){var i,o=this,a=0,r=[];if(!o.isOpen){if(o.cubeportfolio.singlePageInline&&o.cubeportfolio.singlePageInline.isOpen&&o.cubeportfolio.singlePageInline.close(),o.isOpen=!0,o.stopEvents=!1,o.dataArray=[],(o.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");c.each(e,function(e,t){var n=t.getAttribute("href");-1===c.inArray(n,r)&&(i===n&&(o.current=a),o.dataArray.push({url:n,element:t}),a++),r.push(n)}),o.counterTotal=o.dataArray.length,1===o.counterTotal?(o.nextButton.hide(),o.prevButton.hide()):(o.nextButton.show(),o.prevButton.show()),o.wrap.appendTo(d.body),o.scrollTop=c(u).scrollTop(),o.wrap.scrollTop(0),o.wrap.show(),o.finishOpen=2,o.navigationMobile=c(),o.wrap.one(s.private.transitionend,function(){c("html").css({overflow:"hidden",marginRight:u.innerWidth-c(d).width()}),o.wrap.addClass("cbp-popup-transitionend"),o.options.singlePageStickyNavigation&&(o.wrap.addClass("cbp-popup-singlePage-sticky"),o.navigationWrap.width(o.wrap[0].clientWidth),"android"!==s.private.browser&&"ios"!==s.private.browser||(o.navigationMobile=c("<div/>",{class:"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:o.wrap.attr("id")}).on("click.cbp",function(e){if(!o.stopEvents){var t=c(e.target).attr("data-action");o[t]&&(o[t](),e.preventDefault())}}),o.navigationMobile.appendTo(d.body).append(o.navigationWrap))),o.finishOpen--,o.finishOpen<=0&&o.updateSinglePageIsOpen.call(o)}),"ie8"!==s.private.browser&&"ie9"!==s.private.browser||(o.options.singlePageStickyNavigation&&(o.navigationWrap.width(o.wrap[0].clientWidth),setTimeout(function(){o.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),o.finishOpen--),o.wrap.addClass("cbp-popup-loading"),o.wrap.offset(),o.wrap.addClass("cbp-popup-singlePage-open"),o.options.singlePageDeeplinking&&(o.url=o.url.split("#cbp=")[0],location.href=o.url+"#cbp="+o.dataArray[o.current].url),c.isFunction(o.options.singlePageCallback)&&o.options.singlePageCallback.call(o,o.dataArray[o.current].url,o.dataArray[o.current].element)}},openSinglePageInline:function(e,t,n){var i,o,a,r=this;if(n=n||!1,r.fromOpen=n,r.storeBlocks=e,r.storeCurrentBlock=t,r.isOpen)return o=c(t).closest(".cbp-item").index(),void(r.dataArray[r.current].url!==t.getAttribute("href")||r.current!==o?r.cubeportfolio.singlePageInline.close("open",{blocks:e,currentBlock:t,fromOpen:!0}):r.close());if(r.isOpen=!0,r.stopEvents=!1,r.dataArray=[],(r.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(a=c(t).closest(".cbp-item")[0],e.each(function(e,t){a===t&&(r.current=e)}),r.dataArray[r.current]={url:i,element:t},c(r.dataArray[r.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),r.counterTotal=e.length,r.wrap.insertBefore(r.cubeportfolio.wrapper),"top"===r.options.singlePageInlinePosition)r.blocksToMove=e,r.top=0;else if("bottom"===r.options.singlePageInlinePosition)r.blocksToMove=c(),r.top=r.cubeportfolio.height;else if("above"===r.options.singlePageInlinePosition)r.top=c(e[r.current]).data("cbp").top,r.blocksToMove=c(),e.each(function(e,t){var n=c(t).data("cbp");n.top+n.height>=r.top&&(r.blocksToMove=r.blocksToMove.add(t))}),r.top=Math.max(r.top-r.options.gapHorizontal,0);else{var s=c(e[r.current]).data("cbp");r.top=s.top+s.height,r.blocksToMove=c(),e.each(function(e,t){var n=c(t).data("cbp");n.top+n.height>r.top&&(r.blocksToMove=r.blocksToMove.add(t))})}if(r.wrap[0].style.height=r.wrap.outerHeight(!0)+"px",r.deferredInline=c.Deferred(),r.options.singlePageInlineInFocus){r.scrollTop=c(u).scrollTop();var l=r.cubeportfolio.$obj.offset().top+r.top-100;r.scrollTop!==l?c("html,body").animate({scrollTop:l},350).promise().then(function(){r.resizeSinglePageInline(),r.deferredInline.resolve()}):(r.resizeSinglePageInline(),r.deferredInline.resolve())}else r.resizeSinglePageInline(),r.deferredInline.resolve();r.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),r.wrap.css({top:r.top}),r.options.singlePageInlineDeeplinking&&(r.url=r.url.split("#cbpi=")[0],location.href=r.url+"#cbpi="+r.dataArray[r.current].url),c.isFunction(r.options.singlePageInlineCallback)&&r.options.singlePageInlineCallback.call(r,r.dataArray[r.current].url,r.dataArray[r.current].element)},resizeSinglePageInline:function(){var n=this;n.height=0===n.top||n.top===n.cubeportfolio.height?n.wrap.outerHeight(!0):n.wrap.outerHeight(!0)-n.options.gapHorizontal,n.storeBlocks.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="":t.style.marginTop=""}),n.blocksToMove.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="translate3d(0px, "+n.height+"px, 0)":t.style.marginTop=n.height+"px"}),n.cubeportfolio.obj.style.height=n.cubeportfolio.height+n.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=c.Deferred(),this.storeBlocks.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="":t.style.marginTop=""}),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(i){var o=this,a=0,r=function(e){var t=d.createElement("script"),n=e.src;t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,i[++a]&&r(i[a]))}:t.onload=function(){i[++a]&&r(i[a])},n?t.src=n:t.text=e.text,o.content[0].appendChild(t)};r(i[0])},updateSinglePage:function(e,t,n){var i,o=this;o.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===n&&o.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),o.counter&&(i=c(o.getCounterMarkup(o.options.singlePageCounter,o.current+1,o.counterTotal)),o.counter.text(i.text())),o.fromAJAX={html:e,scripts:t},o.finishOpen--,o.finishOpen<=0&&o.updateSinglePageIsOpen.call(o)},updateSinglePageIsOpen:function(){var e,t=this;t.wrap.addClass("cbp-popup-ready"),t.wrap.removeClass("cbp-popup-loading"),t.content.html(t.fromAJAX.html),t.fromAJAX.scripts&&t.appendScriptsToWrap(t.fromAJAX.scripts),t.fromAJAX={},t.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(e=t.content.find(".cbp-slider"))?(e.find(".cbp-slider-item").addClass("cbp-item"),t.slider=e.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):t.slider=null,t.checkForSocialLinks(t.content),"android"!==s.private.browser&&"ios"!==s.private.browser||c("html").css({position:"fixed"}),t.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(e){this.createFacebookShare(e.find(".cbp-social-fb")),this.createTwitterShare(e.find(".cbp-social-twitter")),this.createGooglePlusShare(e.find(".cbp-social-googleplus")),this.createPinterestShare(e.find(".cbp-social-pinterest"))},createFacebookShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(u.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(u.location.href)+"&text="+encodeURIComponent(d.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(u.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(e){if(e.length&&!e.attr("onclick")){var t="",n=this.content.find("img")[0];n&&(t=n.src),e.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(u.location.href)+"&media="+t+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(e,t){var n=this;n.content.html(e),t&&n.appendScriptsToWrap(t),n.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),n.singlePageInlineIsOpen.call(n)},singlePageInlineIsOpen:function(){var t=this;function n(){t.wrap.addClass("cbp-popup-singlePageInline-ready"),t.wrap[0].style.height="",t.resizeSinglePageInline(),t.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}t.cubeportfolio.loadImages(t.wrap,function(){var e=t.content.find(".cbp-slider");e.length?(e.find(".cbp-slider-item").addClass("cbp-item"),e.one("initComplete.cbp",function(){t.deferredInline.done(n)}),e.on("pluginResize.cbp",function(){t.deferredInline.done(n)}),t.slider=e.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(t.slider=null,t.deferredInline.done(n)),t.checkForSocialLinks(t.content)})},isImage:function(e){var t=this;new Image;t.tooggleLoading(!0),t.cubeportfolio.loadImages(c('<div><img src="'+e.src+'"></div>'),function(){t.updateImagesMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal)),t.tooggleLoading(!1)})},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSoundCloud:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedVideo:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedAudio:function(e){var t=this;t.updateSelfHostedAudio(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},getCounterMarkup:function(e,t,n){if(!e.length)return"";var i={current:t,total:n};return e.replace(/\{\{current}}|\{\{total}}/gi,function(e){return i[e.slice(2,-2)]})},updateSelfHostedVideo:function(e,t,n){var i;this.wrap.addClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(i=0;i<e.length;i++)/(\.mp4)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/ogg">':/(\.webm)/i.test(e[i])&&(o+='<source src="'+e[i]+'" type="video/webm">');o+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>",this.content.html(o),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+e+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(e,t,n){var i=this;i.wrap.removeClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+i.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";i.content.html(o),i.wrap.addClass("cbp-popup-ready"),i.resizeImage(),i.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,n=this;n.current=n.getIndex(n.current+e),n[(t=n.dataArray[n.current]).type](t)},singlePageJumpTo:function(e){var t=this;t.current=t.getIndex(t.current+e),c.isFunction(t.options.singlePageCallback)&&(t.resetWrap(),t.wrap.scrollTop(0),t.wrap.addClass("cbp-popup-loading"),t.options.singlePageCallback.call(t,t.dataArray[t.current].url,t.dataArray[t.current].element),t.options.singlePageDeeplinking&&(location.href=t.url+"#cbp="+t.dataArray[t.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#"),"singlePageInline"===e.type&&e.options.singlePageInlineDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){return(e%=this.counterTotal)<0&&(e=this.counterTotal+e),e},close:function(e,t){var n=this;function i(){n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===e&&c.isFunction(t.callback)&&t.callback.call(n.cubeportfolio),n.resetWrap()}function o(){n.options.singlePageInlineInFocus&&"promise"!==e?c("html,body").animate({scrollTop:n.scrollTop},350).promise().then(function(){i()}):i()}n.isOpen=!1,"singlePageInline"===n.type?"open"===e?(n.wrap.removeClass("cbp-popup-singlePageInline-ready"),c(n.dataArray[n.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),n.openSinglePageInline(t.blocks,t.currentBlock,t.fromOpen)):(n.height=0,n.revertResizeSinglePageInline(),n.wrap.removeClass("cbp-popup-singlePageInline-ready"),n.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),n.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),s.private.modernBrowser?n.wrap.one(s.private.transitionend,function(){o()}):o()):"singlePage"===n.type?(n.resetWrap(),n.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend"),"android"!==s.private.browser&&"ios"!==s.private.browser||(c("html").css({position:""}),n.navigationWrap.appendTo(n.wrap),n.navigationMobile.remove()),c(u).scrollTop(n.scrollTop),setTimeout(function(){n.stopScroll=!0,n.navigationWrap.css({top:n.wrap.scrollTop()}),n.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),"ie8"!==s.private.browser&&"ie9"!==s.private.browser||(n.content.html(""),n.wrap.detach(),c("html").css({overflow:"",marginRight:"",position:""}),n.navigationWrap.removeAttr("style"))},0),c("html").css({overflow:"",marginRight:"",position:""}),n.wrap.one(s.private.transitionend,function(){n.content.html(""),n.wrap.detach(),n.navigationWrap.removeAttr("style")})):(n.originalStyle?c("html").attr("style",n.originalStyle):c("html").css({overflow:"",marginRight:""}),c(u).scrollTop(n.scrollTop),n.content.html(""),n.wrap.detach())},tooggleLoading:function(e){this.stopEvents=e,this.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var e=c(u).height(),t=this.content.find("img"),n=parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10);t.css("max-height",e-n+"px")}},preloadNearbyImages:function(){var e=[],t=this;e.push(t.getIndex(t.current+1)),e.push(t.getIndex(t.current+2)),e.push(t.getIndex(t.current+3)),e.push(t.getIndex(t.current-1)),e.push(t.getIndex(t.current-2)),e.push(t.getIndex(t.current-3));for(var n=e.length-1;0<=n;n--)"isImage"===t.dataArray[e[n]].type&&t.cubeportfolio.checkSrc(t.dataArray[e[n]].src)}};function n(e){var t=this;!1===(t.parent=e).options.lightboxShowCounter&&(e.options.lightboxCounter=""),!1===e.options.singlePageShowCounter&&(e.options.singlePageCounter=""),e.registerEvent("initStartRead",function(){t.run()},!0)}var i=!1,o=!1;n.prototype.run=function(){var r=this,s=r.parent,e=c(d.body);s.lightbox=null,s.options.lightboxDelegate&&!i&&(i=!0,s.lightbox=Object.create(t),s.lightbox.init(s,"lightbox"),e.on("click.cbp",s.options.lightboxDelegate,function(e){e.preventDefault();var t=c(this),i=t.attr("data-cbp-lightbox"),n=r.detectScope(t),o=n.data("cubeportfolio"),a=[];o?o.blocksOn.each(function(e,t){var n=c(t);n.not(".cbp-item-off")&&n.find(s.options.lightboxDelegate).each(function(e,t){i?c(t).attr("data-cbp-lightbox")===i&&a.push(t):a.push(t)})}):a=i?n.find(s.options.lightboxDelegate+"[data-cbp-lightbox="+i+"]"):n.find(s.options.lightboxDelegate),s.lightbox.openLightbox(a,t[0])})),s.singlePage=null,s.options.singlePageDelegate&&!o&&(o=!0,s.singlePage=Object.create(t),s.singlePage.init(s,"singlePage"),e.on("click.cbp",s.options.singlePageDelegate,function(e){e.preventDefault();var t=c(this),i=t.attr("data-cbp-singlePage"),n=r.detectScope(t),o=n.data("cubeportfolio"),a=[];o?o.blocksOn.each(function(e,t){var n=c(t);n.not(".cbp-item-off")&&n.find(s.options.singlePageDelegate).each(function(e,t){i?c(t).attr("data-cbp-singlePage")===i&&a.push(t):a.push(t)})}):a=i?n.find(s.options.singlePageDelegate+"[data-cbp-singlePage="+i+"]"):n.find(s.options.singlePageDelegate),s.singlePage.openSinglePage(a,t[0])})),s.singlePageInline=null,s.options.singlePageInlineDelegate&&(s.singlePageInline=Object.create(t),s.singlePageInline.init(s,"singlePageInline"),s.$obj.on("click.cbp",s.options.singlePageInlineDelegate,function(e){e.preventDefault();var t=c.data(this,"cbp-locked"),n=c.data(this,"cbp-locked",+new Date);(!t||300<n-t)&&s.singlePageInline.openSinglePageInline(s.blocksOn,this)}))},n.prototype.detectScope=function(e){var t,n,i;return(t=e.closest(".cbp-popup-singlePageInline")).length?(i=e.closest(".cbp",t[0])).length?i:t:(n=e.closest(".cbp-popup-singlePage")).length?(i=e.closest(".cbp",n[0])).length?i:n:(i=e.closest(".cbp")).length?i:c(d.body)},n.prototype.destroy=function(){var e=this.parent;c(d.body).off("click.cbp"),o=i=!1,e.lightbox&&e.lightbox.destroy(),e.singlePage&&e.singlePage.destroy(),e.singlePageInline&&e.singlePageInline.destroy()},s.plugins.popUp=function(e){return new n(e)}}(jQuery,window,document),function(s,e,t,n){"use strict";var i=s.fn.cubeportfolio.constructor;function o(e){var n=this;n.parent=e,n.searchInput=s(e.options.search),n.searchInput.each(function(e,t){var n=t.getAttribute("data-search");n||(n="*"),s.data(t,"searchData",{value:t.value,el:n})});var i=null;n.searchInput.on("keyup.cbp paste.cbp",function(e){e.preventDefault();var t=s(this);clearTimeout(i),i=setTimeout(function(){n.runEvent.call(n,t)},350)}),n.searchNothing=n.searchInput.siblings(".cbp-search-nothing").detach(),n.searchNothingHeight=null,n.searchNothingHTML=n.searchNothing.html(),n.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(e){e.preventDefault(),n.runEvent.call(n,s(this).prev().val(""))})}o.prototype.runEvent=function(e){var i=this,o=e.val(),a=e.data("searchData"),r=new RegExp(o,"i");a.value===o||i.parent.isAnimating||(0<(a.value=o).length?e.attr("value",o):e.removeAttr("value"),i.parent.$obj.cubeportfolio("filter",function(e){var t=e.filter(function(e,t){if(-1<s(t).find(a.el).text().search(r))return!0});if(0===t.length&&i.searchNothing.length){var n=i.searchNothingHTML.replace("{{query}}",o);i.searchNothing.html(n),i.searchNothing.appendTo(i.parent.$obj),null===i.searchNothingHeight&&(i.searchNothingHeight=i.searchNothing.outerHeight(!0)),i.parent.registerEvent("resizeMainContainer",function(){i.parent.height=i.parent.height+i.searchNothingHeight,i.parent.obj.style.height=i.parent.height+"px"},!0)}else i.searchNothing.detach();return i.parent.triggerEvent("resetFiltersVisual"),t},function(){e.trigger("keyup.cbp")}))},o.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each(function(e,t){s.removeData(t)})},i.plugins.search=function(e){return""===e.options.search?null:new o(e)}}(jQuery,window,document),function(o,e,t,n){"use strict";var i={pagination:"",paginationClass:"cbp-pagination-active"},a=o.fn.cubeportfolio.constructor;function r(e){var t=this;t.parent=e,t.options=o.extend({},i,t.parent.options.plugins.slider);var n=o(t.options.pagination);0<n.length&&(t.parent.customPagination=n,t.parent.customPaginationItems=n.children(),t.parent.customPaginationClass=t.options.paginationClass,t.parent.customPaginationItems.on("click.cbp",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t.parent.sliderStopEvents||t.parent.jumpToSlider(o(this))})),t.parent.registerEvent("gridAdjust",function(){t.sliderMarkup.call(t.parent),t.parent.registerEvent("gridAdjust",function(){t.updateSlider.call(t.parent)})},!0)}r.prototype.sliderMarkup=function(){var i=this;i.sliderStopEvents=!1,i.sliderActive=0,i.$obj.one("initComplete.cbp",function(){i.$obj.addClass("cbp-mode-slider")}),i.nav=o("<div/>",{class:"cbp-nav"}),i.nav.on("click.cbp","[data-slider-action]",function(e){if(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!i.sliderStopEvents){var t=o(this),n=t.attr("data-slider-action");i[n+"Slider"]&&i[n+"Slider"](t)}}),i.options.showNavigation&&(i.controls=o("<div/>",{class:"cbp-nav-controls"}),i.navPrev=o("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(i.controls),i.navNext=o("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(i.controls),i.controls.appendTo(i.nav)),i.options.showPagination&&(i.navPagination=o("<div/>",{class:"cbp-nav-pagination"}).appendTo(i.nav)),(i.controls||i.navPagination)&&i.nav.appendTo(i.$obj),i.updateSliderPagination(),i.options.auto&&(i.options.autoPauseOnHover&&(i.mouseIsEntered=!1,i.$obj.on("mouseenter.cbp",function(e){i.mouseIsEntered=!0,i.stopSliderAuto()}).on("mouseleave.cbp",function(e){i.mouseIsEntered=!1,i.startSliderAuto()})),i.startSliderAuto()),i.options.drag&&a.private.modernBrowser&&i.dragSlider()},r.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},r.prototype.destroy=function(){var e=this;e.parent.customPaginationItems&&e.parent.customPaginationItems.off(".cbp"),(e.parent.controls||e.parent.navPagination)&&(e.parent.nav.off(".cbp"),e.parent.nav.remove())},a.plugins.slider=function(e){return"slider"!==e.options.layoutMode?null:new r(e)}}(jQuery,window,document);